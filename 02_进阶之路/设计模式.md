# 一、概念

设计模式是面向对象设计原则的实际运行，对类的封装继承多态以及类的关联关系和组合的充分理解。



## 1、分类：

### 1.创建型模式

特点是将对象的创建与使用分离。包括：单例、原型、工厂方法、抽象工厂、建造者



### 2.结构型模式

描述如何将类或对象按某种布局组成更大的结构。包括：代理、适配器、桥接、装饰、外观、享元、组合



### 3.行为型模式

类或对象之间怎样相互协作共同完成单个对象无法完成的任务，以及怎么分配职责。包括：模板方法、策略、命令、责任链、状态、观察者、中介者、迭代器、访问者、备忘录、解释器。





# 二、UML



## 1、类图



### 1.类的表示

<img src="%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213223944547.png" alt="image-20211213223944547" style="zoom: 67%;" />

- +：表示public
- -：表示private
- #：表示protect

> 属性的初始化值可选，跟在类型的后面。





### 2.类之间的关系

关联关系是一类对象和另一类对象之间的联系。如：老师和学生。分为一般关联关系、聚合关系、组合关系。



#### ①一般关联

分为单项关联、双向关联、自关联



##### 单向关联：

![image-20211213225057650](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213225057650.png)

每个顾客都有一个地址，Customer类持有Address类的对象







##### 双向关联：

![image-20211213225227563](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213225227563.png)

顾客有多个商品，Product类申明Customer对象表示被谁购买





##### 自关联：

![image-20211213225353194](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213225353194.png)

自己包含自己，如LinkedList







#### ②聚合关系

强关联关系，是整体和部分之间的关系。

![image-20211213225518646](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213225518646.png)



成员对象可以脱离整体对象独立存在。如大学倒闭了，老师仍然存在。

> 菱形指向整体





#### ③组合关系

是整体和部分之间的关系，但更强烈。

![image-20211213225722873](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213225722873.png)



整体对象可以控制部分对象的生命周期，整体对象不存在了，部分对象也不存在。





#### ④依赖关系

是一种使用关系，耦合度最弱的关联

![image-20211213230040664](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213230040664.png)

某个类的方法通过局部变量、方法的参数、或对静态方法的调用访问另一个类中的某些方法，完成职责。



#### ⑤继承关系（泛化关系）

耦合度最大的一种关系，父类和子类的关系。

![image-20211213230409650](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213230409650.png)







#### ⑥实现关系

接口和实现类的关系

![image-20211213230927017](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211213230927017.png)





# 三、软件设计原则

为了提高软件系统的可维护性和可复用性，提高开发效率，节约软件开发成本和维护成本



## 1、开闭原则

程序需要扩展的时候，不能修改原有代码，实现一个热插拔的效果。（接口和抽象类）





## 2、里氏代换原则

任何基类可以出现的地方，子类一定可以出现。即子类可以扩展父类的功能，但不能改变父类原有的功能。尽量别重写父类的方法。









## 3、依赖倒转原则

高层模块不依赖低层模块，两者都应该依赖其抽象，抽象不应该依赖细节，细节应该依赖抽象。（对抽象编程，不对实现类编程），是开闭原则的具体实现。

![image-20211229221951548](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211229221951548.png)





## 4、接口隔离原则

一个类对另一个类的依赖应该建立在最小的接口上

![image-20211229223924176](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211229223924176.png)



## 5、最少知识原则（迪米特法则）

**代理模式**

只和你的直接朋友交谈，不和陌生人说话。【如果两个软件实体无法直接通信，不应当发生直接的相互调用，通过第三方转发调用，降低类的耦合度，调高模块的相对独立性】

“朋友”是指当前对象本身，方法参数，成员对象、所创建的对象等

![image-20211229225353418](%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.assets/image-20211229225353418.png)







































